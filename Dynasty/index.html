<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Jouez une dynastie médiévale à travers les évènements, maîtrisez votre destinée et forgez la prochaine grande dynastie !">
    <link rel="icon" type="image/png" href="favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <link rel="shortcut icon" href="favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="Chronicles of a Dynasty" />
    <link rel="manifest" href="site.webmanifest" />
    <title>Chronicles of a Dynasty</title>
    <link rel="stylesheet" href="./lib/bootstrap/5.3.3/bootstrap.css">
    <link rel="stylesheet" href="./lib/bootstrap/bootstrap-icons/1.11.3/bootstrap-icons.min.css">
    <link rel="stylesheet" href="./css/fonts.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="./css/tree.css">
    <link rel="stylesheet" href="./css/mobile.css">
    <link rel="stylesheet" href="./css/k-bootstrap.css">
</head>

<body data-bs-theme="dark">
    <main>
    <!-- Panels -->
    <div class="panel">
        <a class="btn btn-primary" id="offcanvasBtnLeft" data-bs-toggle="offcanvas" href="#offcanvasLeft" role="button"
            aria-controls="offcanvasLeft">Généalogie</a>
        <a class="btn btn-primary" id="offcanvasBtnRight" data-bs-toggle="offcanvas" href="#offcanvasRight"
            role="button" aria-controls="offcanvasRight">Aide de jeu</a>
    </div>
    <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasLeft" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h4 class="offcanvas-title" id="offcanvasExampleLabel">Arbre dynastique</h4>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="contour">
                  <div class="tree">
                    <ul id="tree_gen_1">

                    </ul>
                  </div>
              </div>
        </div>
    </div>
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
            <h4 class="offcanvas-title" id="offcanvasExampleLabel">Aide de Jeu</h4>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <div class="accordion" id="accordionExample">
                <div class="accordion-item">
                    <p class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                            Compétences
                        </button>
                    </p>
                    <div id="collapseOne" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <ul id="help-competences">
                                <li>Economie <br><p>Permet une meilleure gestion des finances, d'engranger plus de gains et de diminuer les dépenses.</p></li>
                                <li>Diplomatie <br><p>Permet une meilleure gestion des relations intérieures et extérieures au Royaume, de tirer le meilleur parti lors de négociations, et d'être plus populaire après de vos citoyens.</p></li>
                                <li>Militaire <br><p>Permet une meilleure gestion de l'armée, être plus efficaces dans les batailles, avoir de meilleures aptitudes en stratégie, et de perfectionner vos défenses.</p></li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <p class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSix" aria-expanded="false" aria-controls="collapseSix">
                            Enfants
                        </button>
                    </p>
                    <div id="collapseSix" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-start">
                           <p>Vous pouvez obtenir des enfants, soit par mariage, soit par adoption, dans le cas où vous n'en avez pas encore.</p>
                           <p>Parmi vos enfants se trouve votre héritier. Afin de maximiser les compétences de votre prochain personnage (votre héritier prenant le trône à la mort de l'actuel), il est nécessaire de l'éduquer.</p>
                           <p>Des évènements permettent d'augmenter les compétences de vos enfants. Mais attention, seul votre héritier vous fera bénéficier de celles-ci. Prenez donc garde à qui vous ferez profiter d'une bonne éducation.</p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <p class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            Héritage
                        </button>
                    </p>
                    <div id="collapseFour" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-start">
                            <p>Si votre personnage meurt sans héritier, alors c'est la fin de la partie. Vous devez donc faire tout ce qui est en votre pouvoir pour obtenir un héritier, c'est-à-dire avoir un enfant !</p>
                            <p>Si vous n'avez qu'un enfant, c'est simple, c'est lui votre héritier. Dans le cas contraire, il existe des règles de priorité d'héritage.</p>
                            <h4>1. Votre premier fils</h4>
                            <h4>2. Vos autres fils, dans l'ordre de naissance.</h4>
                            <h4>3. Votre première fille.</h4>
                            <h4>4. Vos autres filles, dans l'ordre de naissance.</h4>
                            <p>Un enfant adopté compte comme n'importe quel autre enfant, fils ou fille.</p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <p class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            Iconographie
                        </button>
                    </p>
                    <div id="collapseTwo" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <ul id="help-icons">
                                <li><img src="./images/icons/two-coins.svg" alt="Gold">Argent<br><p>Détermine la richesse de votre Royaume, qui finance vos actions. Tombez à 0 et vous subirez le courroux de la Banque Continentale !</p></li>
                                <li><img src="./images/icons/heart-plus.svg" alt="Popularité">Popularité<br><p>Détermine le soutien de la population. Tombez à 0 et vous subirez une révolte !</p></li>
                                <li><img src="./images/icons/visored-helm.svg" alt="Armée">Armée<br><p>Détermine la puissance de votre armée, qui vous permet de vous défendre contre les menaces et d'entreprendres des actions militaires. Tombez à 0 et vos voisins profiteront de votre faiblesse pour vous envahir !</p></li>
                                <li><img src="./images/icons/sands-of-time.svg" alt="Longévité">Longévité de la dynastie (en années)</li>
                                <li><img src="./images/icons/crown.svg" alt="Longévité de règne">Longévité de règne (en années)</li>
                                <li><img src="./images/icons/crowned-heart.svg" alt="Age">Age du Roi/de la Reine, actuellement</li>
                                <li><img src="./images/icons/tombstone.svg" alt="Age">Age du Roi/de la Reine, à sa mort</li>
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <p class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFive" aria-expanded="false" aria-controls="collapseFive">
                            Mariage
                        </button>
                    </p>
                    <div id="collapseFive" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-start">
                           <p>Se marier est essentiel pour obtenir des enfants, et donc, un héritier.</p>
                           <p>Mais cela ne résume pas la seule fonction de votre époux/se. Il/elle est aussi votre plus proche conseiller(e).</p>
                           <p>Il/elle vous apporte ses compétences pour vous aider dans vos décisions et inluencer leurs résultats.</p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <p class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            Statistiques
                        </button>
                    </p>
                    <div id="collapseThree" class="accordion-collapse collapse" data-bs-parent="#accordionExample">
                        <div class="accordion-body text-start">
                            <p>Il existe plusieurs types de statistiques.</p>
                            <h4>Les statistiques globales</h4>
                            <p>Ce sont les statistiques régissant votre Royaume. Si l'une d'elles tombe à 0, c'est la fin de la partie.</p>
                            <p>Il existe ainsi l'or, la popularité et l'armée. Chacune d'entre elles est impactée par vos choix, les augmentant ou les diminuant. A vous de prendre les décisions les plus judicieuses, même si ce ne sont pas forcément les plus honorables et justes.</p>
                            <p>Enfin, le temps (représenté par un sablier) représente le temps virtuel en années, qui s'est écoulé depuis le début de votre dynastie.</p>
                            <h4>Les statistiques de personnage</h4>
                            <p>Ce sont les compétences de votre personnage ainsi que de votre entourage. Plus celles-ci seront élevées, plus elles influenceront positivement les résultats de vos décisions.</p>
                            <p>Au cours de la partie, vous pourrez les augmenter via des évènements, mais aussi lorsque une conpétence réussit à influencer une décision. Dans ce cas, un bonus vous est octroyé, et il peut parfois s'agir d'une montée de compétence.</p>
                            <p>Mais attention, vos compétences ne sont pas les seules à compter ! Celles de votre entourage est aussi pris en compte dans la balance. En effet, votre famille et votre Conseil vous influence... Choisissez donc bien vos Conseillers.</p>
                            <p>Vous pouvez aussi, lors d'évènements, choisir d'augmenter les compétences de vos enfants. Parmi ceux-ci se trouve votre héritier, et plus vous augmenterez ses compétences, plus vous en bénéficierait lorsqu'il montera sur le trône.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Versionning -->
    <div id="version_notes"><i class="bi bi-journal-check"></i></div>
    <div id="version"></div>

    <!-- Game -->

    <div id="app">
        <div id="parchment-family"></div>
        <div id="royal-family" class="data">
            <h2>Famille Royale</h2>
            <div id="character">
                <h3>Votre Roi</h3>
                <p><span id="character-name">Henri I</span> - <span id="character-age">18 ans</span></p>
                <div id="skills">
                    <h4>Compétences</h4>
                    <p>Économie: <span id="skill-economy">5</span></p>
                    <p>Diplomatie: <span id="skill-diplomacy">5</span></p>
                    <p>Militaire: <span id="skill-military">5</span></p>
                </div>
            </div>
            <div id="spouse">
                <h3>Votre Epouse</h3>
                <p id="no-spouse">Aucune épouse</p>
                <p id="spouse-data"><span id="spouse-name"></span> - <span id="spouse-age"></span></p>
            </div>
            <div id="children">
                <h3>Vos Enfants</h3>
                <p id="no-children">Aucun enfants</p>
                <ul id="children-list"></ul>
            </div>
        </div>
        <div id="parchment-game"></div>
        <div id="game" class="parchment">
            <h1>Chronicles of a Dynasty</h1>
            <ul id="stats">
                <li data-bs-toggle="tooltip" data-bs-title="Argent"><img src="./images/icons/two-coins.svg"
                        alt="Gold"><span id="gold">100</span></li>
                <li data-bs-toggle="tooltip" data-bs-title="Popularité"><img src="./images/icons/heart-plus.svg"
                        alt="Popularité"><span id="popularity">50</span></li>
                <li data-bs-toggle="tooltip" data-bs-title="Armée"><img src="./images/icons/visored-helm.svg"
                        alt="Armée"><span id="army">10</span></li>
                <li data-bs-toggle="tooltip" data-bs-title="Longévité"><img src="./images/icons/sands-of-time.svg"
                        alt="Longévité"><span id="years">0</span></li>
            </ul>
            <div id="events">
                <p id="event-text">Un événement aléatoire apparaît ici.</p>
                <div id="decision-buttons">
                    <!-- Les boutons de décision seront ajoutés dynamiquement ici -->
                </div>
            </div>
            <div id="dynasty">
                <h2>Dynastie</h2>
                <ul id="dynasty-list"></ul>
            </div>
        </div>
        <div id="parchment-court"></div>
        <div id="royal-court" class="data">
            <h2>Cour Royale</h2>
            <div id="councils">
                <h3>Vos Conseillers</h3>
                <p id="no-councils">Aucun conseillers</p>
                <ul id="councils-list"></ul>
            </div>
        </div>
        <div class="arrow-up"><i class="bi bi-chevron-compact-up"></i></div>
        <div class="arrow-down"><i class="bi bi-chevron-compact-down"></i></div>
    </div>

    <!-- Modal -->

    <div id="modal" class="modal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Oyez oyez braves gens!</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close">x</button>
                </div>
                <div class="modal-body">
                    <p id="modal-text">Modal body text goes here.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Très bien</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal version-notes -->
    <div class="modal fade" id="versionModal" tabindex="-1" aria-label="Notes de version" aria-hidden="true">
        <div class="modal-dialog modal-lg">
        <div class="modal-content">
                <div class="modal-body" id="patch-body">
            </div>
        </div>
        </div>
        </div>
    </div>

    <!-- Toast -->

    <div class="toast-container position-fixed bottom-0 end-0 p-3">
        <div id="liveToast" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
          <div class="toast-header">
            <strong class="me-auto">Récompense bonus</strong>
            <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close">x</button>
          </div>
          <div class="toast-body">
            <p id="toast-text">Hello, world! This is a toast message.</p>
          </div>
        </div>
    </div>

    <!-- Patch card template -->
    <template id="template-patch-card">
        <div class="card">
            <div class="card-header" id="patchcard-header">
                <div id="patchcard-header-content" class="d-flex flex-column align-items-start">
                    <div class="d-flex flex-row align-items-center">
                        <div id="type" class="type me-2 text-primary fw-bold text-uppercase"></div>
                        <div id="date" class="date"></div>
                    </div>
                    <div class="d-flex flex-row align-items-center">
                        <h2 id="title" class="title me-2"></h2><div id="version" class="version badge bg-primary"></div>
                    </div>
                </div>
            </div>
            <div class="card-body d-flex align-items-start flex-column" id="patchcard-body">
            </div>
            <div class="card-footer text-body-secondary">
                <a href="https://portfolio-clement-lauer.vercel.app/">Clément Lauer</a>
                <a href="https://github.com/Patriot5701/Dynasty">GitHub</a>
            </div>
        </div>
    </template>

    <!-- Filter -->

    <svg id="hidden">
        <filter id="wavy2">
            <feTurbulence x="0" y="0" baseFrequency="0.02" numOctaves="5" seed="1"></feTurbulence>
            <feDisplacementMap in="SourceGraphic" scale="20" />
        </filter>
    </svg>
    </main>

    <script>
        window.va = window.va || function () { (window.vaq = window.vaq || []).push(arguments); };
    </script>
    <script defer src="/_vercel/insights/script.js"></script>
    <script type="module" src="./data/names.js"></script>
    <script type="module" src="./data/events.js"></script>
    <script type="module" src="script.js"></script>
    <script src="./lib/bootstrap/5.3.3/bootstrap.bundle.js"></script>
</body>

</html>